(()=>{"use strict";var e={365:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([e.id,'body {\n  margin: 16px;\n  font-size: 100%;\n  font-family: "Open Sans", sans-serif;\n  color: white;\n  height: 100%;\n  background: linear-gradient(\n    to bottom,\n    rgb(43, 50, 178) 0%,\n    rgb(20, 136, 204) 100%\n  );\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n}\n\n#app {\n  display: flex;\n  flex-wrap: wrap;\n}\n#location-and-date {\n  width: 100%;\n}\n#location {\n  font-size: 2em;\n  font-weight: 600;\n}\n#current-condition {\n  display: flex;\n  width: 100%;\n}\n\n#current-condition_icon-container {\n  flex-grow: 1.5;\n}\n\n#condition-icon {\n  margin: auto;\n  width: 10rem;\n  height: 10rem;\n  background-size: cover;\n}\n\n#current-condition_text-container {\n  flex-grow: 1;\n  text-align: center;\n  margin-top: 0.5em;\n}\n\n#current-temp {\n  font-size: 5.25em;\n  font-weight: 300;\n}\n\n#condition-text {\n  font-size: 1.25em;\n  margin-left: -0.6em;\n}\n\n#current-stats {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.stat-container {\n  margin: 1em;\n  text-align: center;\n  width: 25%;\n}\n\n.stat_value {\n  font-size: 3em;\n}\n\n#weather-by-hour {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow-x: scroll;\n  margin: 2rem;\n}\n\n.hour-container {\n  min-width: 25%;\n  text-align: center;\n  padding: 1rem;\n  margin: 1rem;\n  background-color: rgba(0, 0, 0, 0.412);\n}\n\n.hour-icon {\n  margin: auto;\n  width: 5em;\n  height: 5em;\n  background-size: cover;\n}\n\n.hour-time {\n  font-size: 2em;\n}\n\n.hour-temp {\n  font-size: 1em;\n}\n',""]);const c=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var h=n(d),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)t[h].references++,t[h].updater(m);else{var p=i(m,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var c=n(o[a]);t[c].references--}for(var s=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=s}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r={};(()=>{n.d(r,{A:()=>w});var e=n(72),t=n.n(e),i=n(825),o=n.n(i),a=n(659),c=n.n(a),s=n(56),u=n.n(s),l=n(540),d=n.n(l),h=n(113),m=n.n(h),p=n(365),f={};f.styleTagTransform=m(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),t()(p.A,f),p.A&&p.A.locals&&p.A.locals;const _=new class{constructor(){this.input=document.querySelector("input"),this.form=document.querySelector("form"),this.app=document.querySelector("app"),this.location=document.querySelector("#location"),this.date=document.querySelector("#date"),this.conditionIcon=document.querySelector("#condition-icon"),this.conditionText=document.querySelector("#condition-text"),this.currentTemp=document.querySelector("#current-temp"),this.high=document.querySelector("#high"),this.low=document.querySelector("#low"),this.wind=document.querySelector("#wind"),this.rain=document.querySelector("#rain"),this.sunrise=document.querySelector("#sunrise"),this.sunset=document.querySelector("#sunset"),this.weatherByHour=document.querySelector("#weather-by-hour")}update(){this.location.innerText=w.weatherData.location,this.date.innerText=w.weatherData.date,this.conditionIcon.style.backgroundImage=`url(${w.weatherData.current.condition.icon})`,this.conditionText.innerText=w.weatherData.current.condition.text,this.currentTemp.innerText=w.weatherData.current.temp_f+"째",this.high.innerText=w.weatherData.forecast[0].maxtemp_f+"째",this.low.innerText=w.weatherData.forecast[0].mintemp_f+"째",this.wind.innerText=w.weatherData.current.wind_mph+" mph",this.rain.innerText=w.weatherData.forecast[0].daily_chance_of_rain+"%",this.sunrise.innerText=w.weatherData.forecast[0].sunrise,this.sunset.innerText=w.weatherData.forecast[0].sunset,this.weatherByHour.innerHTML="";for(let e of w.weatherData.forecast[0].hours){let t=this.drawHour(e);this.weatherByHour.appendChild(t)}}drawHour(e){console.log(e);let t=document.createElement("div");t.classList.add("hour-container");let n=document.createElement("div");n.classList.add("hour-time"),n.innerText=e.time,t.appendChild(n);let r=document.createElement("div");r.classList.add("hour-icon"),r.style.backgroundImage=`url(${e.condition.icon})`,t.appendChild(r);let i=document.createElement("div");return i.classList.add("hour-temp"),i.innerText=e.temp_f+"째",t.appendChild(i),t}},w=new class{constructor(){this.fetchWeatherData(),this.init()}init(){_.form.addEventListener("submit",this.handleSubmit.bind(this))}handleSubmit(e){e.preventDefault(),this.location=_.input.value,this.fetchWeatherData()}async fetchWeatherData(){if(null==this.location){console.log("fetching location");let e=await this.getCurrentPosition();this.location=`${e.coords.latitude},${e.coords.longitude}`}console.log("fetching weather"),this.weatherData=await async function(e){let t=await fetch("https://api.weatherapi.com/v1/forecast.json?q="+e+"&days=3&key=932e894ac6e54cfc9ed03628241504");return function(e){let t={};return console.log(e),t.date=new Date(e.forecast.forecastday[0].date).toGMTString().slice(0,17),t.location=function(e){let{name:t,region:n,country:r}=e;return`${t}, ${n}, ${r}`}(e.location),t.current=function(e){let{temp_c:t,temp_f:n,is_day:r,condition:{text:i,icon:o},wind_mph:a,wind_kph:c,wind_dir:s,precip_mm:u,precip_in:l,humidity:d,cloud:h,feelslike_c:m,feelslike_f:p,uv:f}=e;return{temp_c:t,temp_f:n,is_day:r,condition:{text:i,icon:o},wind_mph:a,wind_kph:c,wind_dir:s,precip_mm:u,precip_in:l,humidity:d,cloud:h,feelslike_c:m,feelslike_f:p,uv:f}}(e.current),t.forecast=e.forecast.forecastday.map((e=>function(e){let{date:t,day:{avgtemp_c:n,avgtemp_f:r,condition:{text:i,icon:o},daily_chance_of_rain:a,daily_chance_of_snow:c,daily_will_it_rain:s,daily_will_it_snow:u,maxtemp_c:l,maxtemp_f:d,mintemp_c:h,mintemp_f:m,totalprecip_in:p,totalprecip_mm:f,totalsnow_cm:_,uv:w},astro:{sunrise:y,sunset:g}}=e,v=e.hour.map((e=>function(e){let{chance_of_rain:t,chance_of_snow:n,cloud:r,condition:{text:i,icon:o},feelslike_c:a,feelslike_f:c,humidity:s,is_day:u,snow_cm:l,temp_c:d,temp_f:h,time:m}=e;return{chance_of_rain:t,chance_of_snow:n,cloud:r,condition:{text:i,icon:o},feelslike_c:a,feelslike_f:c,humidity:s,is_day:u,snow_cm:l,temp_c:d,temp_f:h,time:m.slice(m.length-5)}}(e)));return{date:t,avgtemp_c:n,avgtemp_f:r,condition:{text:i,icon:o},daily_chance_of_rain:a,daily_chance_of_snow:c,daily_will_it_rain:s,daily_will_it_snow:u,maxtemp_c:l,maxtemp_f:d,mintemp_c:h,mintemp_f:m,totalprecip_in:p,totalprecip_mm:f,totalsnow_cm:_,sunrise:y,sunset:g,uv:w,hours:v}}(e))),t}(await t.json())}(this.location),_.update()}getCurrentPosition(){return new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>e(t)),(e=>t(e)))}))}}})()})();